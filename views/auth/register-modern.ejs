<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %> | LINCSSA VOTES</title>
    <!-- Google Fonts - Poppins for modern professional look -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <!-- Modern UI stylesheet (v2 base) -->
    <link rel="stylesheet" href="/styles/modern-v2.css" />
    <!-- Auth-specific modern styles -->
    <link rel="stylesheet" href="/styles/auth-modern.css" />
  </head>
  <body>
    <!-- Header with navigation -->
    <header class="site-header">
      <div class="container">
        <nav class="navbar">
          <div class="logo">
            <a href="/">
              <img src="/images/logo.png" alt="LINCSSA VOTES Logo" />
              <h2>LINCSSA <span>VOTES</span></h2>
            </a>
          </div>

          <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <% if (settings.displayResults) { %>
            <li><a href="/results">Results</a></li>
            <% } %>
            <li class="active"><a href="/register">Register</a></li>
            <li><a href="/login">Login</a></li>
          </ul>

          <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
          </div>

          <button class="dark-mode-toggle">
            <i class="fas fa-moon"></i>
            <i class="fas fa-sun"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- Main authentication container -->
    <main class="auth-container">
      <!-- Animated background -->
      <div class="auth-bg"></div>

      <div class="auth-card" data-aos="fade-up" data-aos-duration="800">
        <div class="auth-header">
          <div class="auth-logo">
            <img src="/images/logo.png" alt="LINCSSA VOTES Logo" />
          </div>
          <h1 class="auth-title">Create Account</h1>
          <p class="auth-subtitle">Register to participate in the election</p>
        </div>

        <div class="auth-body">
          <!-- Flash messages -->
          <% if (messages.error) { %>
          <div class="alert alert-danger">
            <i class="fas fa-exclamation-circle"></i>
            <%= messages.error %>
          </div>
          <% } %> <% if (messages.success) { %>
          <div class="alert alert-success">
            <i class="fas fa-check-circle"></i>
            <%= messages.success %>
          </div>
          <% } %>

          <!-- Registration form -->
          <form action="/register" method="POST" class="auth-form">
            <div class="form-group">
              <label for="matricNumber" class="form-label">Matric Number</label>
              <div class="input-icon-wrapper">
                <input
                  type="text"
                  id="matricNumber"
                  name="matricNumber"
                  class="form-control with-icon"
                  placeholder="Enter matric number (e.g. 2021/34825)"
                  required
                  autocomplete="off"
                  pattern="\d{4}\/\d{5}"
                  title="Format: XXXX/XXXXX (e.g., 2021/34825)"
                />
                <i class="fas fa-id-card icon-left"></i>
              </div>
              <div class="form-text">Format: XXXX/XXXXX (e.g., 2021/34825)</div>
              <div class="invalid-feedback">
                Please enter a valid matric number
              </div>
            </div>

            <div class="form-group">
              <label for="phoneNumber" class="form-label">Phone Number</label>
              <div class="input-icon-wrapper">
                <input
                  type="text"
                  id="phoneNumber"
                  name="phoneNumber"
                  class="form-control with-icon"
                  placeholder="Enter your phone number"
                  required
                  autocomplete="off"
                  pattern="[0-9]{11}"
                  title="Please enter 11 digits"
                />
                <i class="fas fa-phone icon-left"></i>
              </div>
              <div class="form-text">Enter your 11-digit phone number</div>
              <div class="invalid-feedback">
                Phone number must be exactly 11 digits
              </div>
            </div>

            <% if (typeof requirePassword !== 'undefined' && requirePassword) {
            %>
            <div class="form-group">
              <label for="password" class="form-label">Password</label>
              <div class="input-icon-wrapper">
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="form-control with-icon"
                  placeholder="Create a password"
                  required
                />
                <i class="fas fa-lock icon-left"></i>
              </div>
              <div class="form-text">Minimum 6 characters</div>
            </div>

            <div class="form-group">
              <label for="confirmPassword" class="form-label"
                >Confirm Password</label
              >
              <div class="input-icon-wrapper">
                <input
                  type="password"
                  id="confirmPassword"
                  name="confirmPassword"
                  class="form-control with-icon"
                  placeholder="Confirm your password"
                  required
                />
                <i class="fas fa-lock icon-left"></i>
              </div>
            </div>
            <% } %>

            <div class="form-group">
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-user-plus"></i> Register Now
                <span class="btn-shine"></span>
              </button>
            </div>
          </form>

          <div class="auth-footer">
            <p>Already have an account? <a href="/login">Login here</a></p>
            <p class="mt-3">
              <a href="/" class="btn-text"
                ><i class="fas fa-arrow-left"></i> Back to Home</a
              >
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-copyright">
            <p>
              &copy; <%= new Date().getFullYear() %> LINCSSA VOTES. All rights
              reserved.
            </p>
          </div>
          <div class="footer-social">
            <a href="#" aria-label="Facebook"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" aria-label="Instagram"
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      // Initialize AOS animations
      AOS.init({
        once: true,
        duration: 800,
      });
    </script>
    <script src="/script/auth-modern.js"></script>
  </body>
</html>
